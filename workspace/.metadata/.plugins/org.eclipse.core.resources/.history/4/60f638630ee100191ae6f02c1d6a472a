package me.Arouraios.Crystal.utils;

import java.util.logging.Logger;

import org.bukkit.Location;
import org.bukkit.Server;
import org.bukkit.World;
import org.bukkit.entity.Player;


public class Commander {
	private Server serv;
	private Logger log;

	public Commander(Server serv, Logger log) {
		this.serv=serv;
		this.log=log;
	}

//	public boolean tpallto(String[] args) {
//		World wo = serv.getWorld(args[0]);
//		Location loc = new Location(wo, Integer.parseInt(args[1]), Integer.parseInt(args[2]),
//				Integer.parseInt(args[3]));
//		for (Player pl : wo.getPlayers()) {
//			pl.teleport(loc);
//			log.info("Player " + pl + "teleported to given location");
//		}
//		return true;
//	}

	public boolean tpalltoplayer(Player s) {
		Location loc = s.getLocation();
		for (Player pl : serv.getOnlinePlayers()) {
			pl.teleport(loc);
			log.info("Player " + pl + "was teleported to " + s.getName());
		}
		return true;
	}

	public boolean tpalltoloc(String[] args, Player sender) {
		String wo;
		
		if(args[3]!=null)wo = args[3]; else wo=sender.getLocation().getWorld().getName();
		Location loc = new Location(serv.getWorld(wo), Integer.parseInt(args[0]),
				Integer.parseInt(args[1]), Integer.parseInt(args[2]));
		for (Player pl : serv.getOnlinePlayers()) {
			pl.teleport(loc);
			log.info("Player " + pl + "was teleported to the given location");
		}
		return true;
	}
	
}
